!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,s){var r,n,u,i;i=s(1),u=function(){function e(){return["ui.router","ui.bootstrap","ngAnimate","guanlecoja.ui","bbData"]}return e}(),n=function(){function e(e,t,s){var r,n,u,a,l,o,p,c;for(p=s.plugins.pullrequests,u=n=0,a=p.length;n<a;u=++n)o=p[u],l=o.name+"_pullrequests",t.addGroup({name:l,caption:o.caption,icon:o.icon,order:2+u}),r={group:l,caption:o.caption,name:o.name},c={controller:"pullrequestsController",controllerAs:"c",template:i,name:l,url:"/"+l,data:r},e.state(c)}return e}(),r=function(){function e(e,t,s,r,n){var u,i,a;this.requests=void 0,this.builders=n.open().closeOnDestroy(e).getBuilders(),i=t.current.data.name,u=function(){return r.get("/pullrequests/api/"+i).then(this.parseRequests.bind(this))}.bind(this),this.builders.onChange=u,a=s(u,1e4),e.$on("$destroy",function(){return s.cancel(a)})}return e.prototype.getPullrequests=function(){var e;return e=this,this.$http.get("/pullrequests/api/"+this.name).then(function(t){return e.parseRequests(t)})},e.prototype.parseRequests=function(e){var t,s,r,n,u,i,a,l,o,p,c,d,h;for(c=[],l=e.data,i=0,a=l.length;i<a;i++){p=l[i],r=[],o=p.builds;for(t in o)s=o[t],d=s[0],u=s[1],h=s[2],s={},s.url=null===u?"/#/buildrequests/"+d:"#/builders/"+t+"/builds/"+u,h=this.statusName(h),n="results_"+h,"PENDING"===h&&(n+=" pulse"),s.status=h,s.class=n,s.name=this.builders.get(t).name,r.push(s);null===p.assignee&&(p.assignee="None"),p.builds=r,c.push(p)}if(void 0===this.requests||!this.objCMP(c,this.requests))return console.log("something change here buddy"),this.requests=c},e.prototype.objCMP=function(e,t){var s,r,n,u;if(e.length!==t.length)return!1;for(s in e)if(n=e[s],"$$hashKey"!==s){if(u=t[s],r=typeof u,typeof n!==r)return!1;if("object"!==r){if(n!==u)return!1}else if(!this.objCMP(u,n))return!1}return!0},e.prototype.statusName=function(e){var t;return t=["UNKNOWN","PENDING","SUCCESS","WARNINGS","FAILURE","SKIPPED","EXCEPTION","RETRY","CANCELLED"],t[e]},e}(),angular.module("pullrequests",new u).config(["$stateProvider","glMenuServiceProvider","config",n]).controller("pullrequestsController",["$scope","$state","$interval","$http","dataService",r])},function(e,t){e.exports='<div class="pullrequests"><div ng-hide="c.requests" class="load-indicator"><div class="spinner"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><p>loading</p></div></div><div ng-show="c.requests.length==0"><p>no pullrequests exists</p></div><table ng-show="c.requests &amp;&amp; c.requests.length &gt; 0" class="table table-striped table-bordered"><tr class="first-row"><th class="pid">id</th><th>Title</th><th>Recent Builds</th><th>Author</th></tr><tr ng-repeat="request in c.requests"><td class="pid"><a href="{{request.url}}" target="_blank">{{request.id}}</a><div>{{request.base_branch}}</div></td><td class="title"><a href="{{request.url}}" target="_blank">{{request.title}}</a></td><td class="builds"><span ng-repeat="build in request.builds"><a href="{{build.url}}"><span class="badge-status {{build.class}}">{{build.name}}</span></a></span></td><td><span>{{request.author}}</span><span>&nbsp;/&nbsp;</span><span>{{request.assignee}}</span></td></tr></table></div>'}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2NyaXB0cy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYTkyODY4NmI5MGM0NWVjNzY3ZTgiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZS9tYWluLm1vZHVsZS5jb2ZmZWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZS9wdWxscmVxdWVzdHMudHBsLmphZGUiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlB1bGxyZXF1ZXN0cyIsIlN0YXRlIiwiYXBwIiwicHVsbHJlcXVlc3RzVGVtcGxhdGUiLCIkc3RhdGVQcm92aWRlciIsImdsTWVudVNlcnZpY2VQcm92aWRlciIsImNvbmZpZyIsImNmZyIsImluZGV4IiwibGVuIiwicHVsbHMiLCJyZWYiLCJzdGF0ZSIsInBsdWdpbnMiLCJwdWxscmVxdWVzdHMiLCJsZW5ndGgiLCJhZGRHcm91cCIsImNhcHRpb24iLCJpY29uIiwib3JkZXIiLCJncm91cCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZSIsInVybCIsImRhdGEiLCIkc2NvcGUiLCIkc3RhdGUiLCIkaW50ZXJ2YWwiLCIkaHR0cCIsImRhdGFTZXJ2aWNlIiwiZmV0Y2hQdWxscyIsInJlcV90Y2siLCJ0aGlzIiwicmVxdWVzdHMiLCJ1bmRlZmluZWQiLCJidWlsZGVycyIsIm9wZW4iLCJjbG9zZU9uRGVzdHJveSIsImdldEJ1aWxkZXJzIiwiY3VycmVudCIsInRoZW4iLCJwYXJzZVJlcXVlc3RzIiwiYmluZCIsIm9uQ2hhbmdlIiwiJG9uIiwiY2FuY2VsIiwiZ2V0UHVsbHJlcXVlc3RzIiwiJCQiLCJyZXNwb25zZSIsImJpZCIsImJ1aWxkIiwiYnVpbGRzIiwiY19sYXNzIiwiY2lkIiwicmVmMSIsInJlcXVlc3QiLCJyaWQiLCJzdGF0dXMiLCJzdGF0dXNOYW1lIiwicHVzaCIsIm9iakNNUCIsImNvbnNvbGUiLCJsb2ciLCJhIiwiYiIsImsiLCJ0cF92YiIsInYiLCJ2YiIsIm51bSIsIm5hbWVzIiwiYW5ndWxhciJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E0QkFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsU0FBQVAsRUFBQVEsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVYsRUFBQVEsSUFDQUcsT0FBQUMsZUFBQVosRUFBQVEsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFmLEdBQ0EsR0FBQVEsR0FBQVIsS0FBQWdCLFdBQ0EsV0FBMkIsTUFBQWhCLEdBQUEsU0FDM0IsV0FBaUMsTUFBQUEsR0FFakMsT0FEQUosR0FBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE1BQUFSLFFBQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHRCLEVBQUF5QixFQUFBLEdBR0F6QixJQUFBMEIsRUFBQSxLRE1NLFNBQVV0QixFQUFR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YkYsS0FBQ0MsV0FBK0JELEtBQUM0QixPQUFPM0IsRUFBVUQsS0FBQ0MsVUZrRnhELE1FakZNNEIsU0FBUUMsSUFBSSwrQkFDWjlCLEtBQUNDLFNBQVdBLEdGb0Z0QmxDLEVBQWFKLFVFbEZYaUUsT0FBUSxTQUFDRyxFQUFHQyxHQUNSLEdBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLENBQUEsSUFBR0wsRUFBRWpELFNBQVlrRCxFQUFFbEQsT0FDZixPQUFPLENBRVgsS0FBQW1ELElBQUFGLEdBQ0ksR0ZtRk5JLEVBQUlKLEVBQUVFLEdFbkZRLGNBQUxBLEVBQUgsQ0FNQSxHQUhBRyxFQUFLSixFQUFFQyxHQUNQQyxRQUFlRSxTQUVMRCxLQUFRRCxFQUNkLE9BQU8sQ0FFWCxJQUFZLFdBQVRBLEdBS0gsR0FBR0MsSUFBT0MsRUFDTixPQUFPLE1BTFAsS0FBT3BDLEtBQUM0QixPQUFPUSxFQUFJRCxHQUNmLE9BQU8sRUFNbkIsT0FBTyxHRndGYnBFLEVBQWFKLFVFdEZYK0QsV0FBWSxTQUFDVyxHQUNULEdBQUFDLEVBRUEsT0FGQUEsSUFBUyxVQUFXLFVBQVcsVUFBVyxXQUMxQyxVQUFXLFVBQVcsWUFBYSxRQUFTLGFBQ3JDQSxFQUFNRCxJRnlGWnRFLEtFdkZUd0UsUUFBUS9GLE9BQU8sZUFBZ0IsR0FBSXlCLElBQ2xDSSxRQUFRLGlCQUFrQix3QkFBeUIsU0FBVUwsSUFDN0RvQixXQUFXLDBCQUEyQixTQUFVLFNBQVUsWUFBYSxRQUFTLGNBQWVyQixLRjhGMUYsU0FBVXZCLEVBQVFELEdHOU54QkMsRUFBQUQsUUFBQSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgUHVsbHJlcXVlc3RzLCBTdGF0ZSwgYXBwLCBwdWxscmVxdWVzdHNUZW1wbGF0ZTtcblxucHVsbHJlcXVlc3RzVGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5hcHAgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGFwcCgpIHtcbiAgICByZXR1cm4gWyd1aS5yb3V0ZXInLCAndWkuYm9vdHN0cmFwJywgJ25nQW5pbWF0ZScsICdndWFubGVjb2phLnVpJywgJ2JiRGF0YSddO1xuICB9XG5cbiAgcmV0dXJuIGFwcDtcblxufSkoKTtcblxuU3RhdGUgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFN0YXRlKCRzdGF0ZVByb3ZpZGVyLCBnbE1lbnVTZXJ2aWNlUHJvdmlkZXIsIGNvbmZpZykge1xuICAgIHZhciBjZmcsIGksIGluZGV4LCBsZW4sIG5hbWUsIHB1bGxzLCByZWYsIHN0YXRlO1xuICAgIHJlZiA9IGNvbmZpZy5wbHVnaW5zLnB1bGxyZXF1ZXN0cztcbiAgICBmb3IgKGluZGV4ID0gaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGluZGV4ID0gKytpKSB7XG4gICAgICBwdWxscyA9IHJlZltpbmRleF07XG4gICAgICBuYW1lID0gcHVsbHMubmFtZSArIFwiX3B1bGxyZXF1ZXN0c1wiO1xuICAgICAgZ2xNZW51U2VydmljZVByb3ZpZGVyLmFkZEdyb3VwKHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgY2FwdGlvbjogcHVsbHMuY2FwdGlvbixcbiAgICAgICAgaWNvbjogcHVsbHMuaWNvbixcbiAgICAgICAgb3JkZXI6IDIgKyBpbmRleFxuICAgICAgfSk7XG4gICAgICBjZmcgPSB7XG4gICAgICAgIGdyb3VwOiBuYW1lLFxuICAgICAgICBjYXB0aW9uOiBwdWxscy5jYXB0aW9uLFxuICAgICAgICBuYW1lOiBwdWxscy5uYW1lXG4gICAgICB9O1xuICAgICAgc3RhdGUgPSB7XG4gICAgICAgIGNvbnRyb2xsZXI6IFwicHVsbHJlcXVlc3RzQ29udHJvbGxlclwiLFxuICAgICAgICBjb250cm9sbGVyQXM6IFwiY1wiLFxuICAgICAgICB0ZW1wbGF0ZTogcHVsbHJlcXVlc3RzVGVtcGxhdGUsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHVybDogXCIvXCIgKyBuYW1lLFxuICAgICAgICBkYXRhOiBjZmdcbiAgICAgIH07XG4gICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZShzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFN0YXRlO1xuXG59KSgpO1xuXG5QdWxscmVxdWVzdHMgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFB1bGxyZXF1ZXN0cygkc2NvcGUsICRzdGF0ZSwgJGludGVydmFsLCAkaHR0cCwgZGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgZmV0Y2hQdWxscywgbmFtZSwgcmVxX3RjaztcbiAgICB0aGlzLnJlcXVlc3RzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYnVpbGRlcnMgPSBkYXRhU2VydmljZS5vcGVuKCkuY2xvc2VPbkRlc3Ryb3koJHNjb3BlKS5nZXRCdWlsZGVycygpO1xuICAgIG5hbWUgPSAkc3RhdGUuY3VycmVudC5kYXRhLm5hbWU7XG4gICAgZmV0Y2hQdWxscyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9wdWxscmVxdWVzdHMvYXBpLycgKyBuYW1lKS50aGVuKHRoaXMucGFyc2VSZXF1ZXN0cy5iaW5kKHRoaXMpKTtcbiAgICB9KS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYnVpbGRlcnMub25DaGFuZ2UgPSBmZXRjaFB1bGxzO1xuICAgIHJlcV90Y2sgPSAkaW50ZXJ2YWwoZmV0Y2hQdWxscywgMTAwMDApO1xuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGludGVydmFsLmNhbmNlbChyZXFfdGNrKTtcbiAgICB9KTtcbiAgfVxuXG4gIFB1bGxyZXF1ZXN0cy5wcm90b3R5cGUuZ2V0UHVsbHJlcXVlc3RzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyICQkO1xuICAgICQkID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9wdWxscmVxdWVzdHMvYXBpLycgKyB0aGlzLm5hbWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiAkJC5wYXJzZVJlcXVlc3RzKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfTtcblxuICBQdWxscmVxdWVzdHMucHJvdG90eXBlLnBhcnNlUmVxdWVzdHMgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHZhciBiaWQsIGJ1aWxkLCBidWlsZHMsIGNfbGFzcywgY2lkLCBpLCBsZW4sIHJlZiwgcmVmMSwgcmVxdWVzdCwgcmVxdWVzdHMsIHJpZCwgc3RhdHVzO1xuICAgIHJlcXVlc3RzID0gW107XG4gICAgcmVmID0gcmVzcG9uc2UuZGF0YTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHJlcXVlc3QgPSByZWZbaV07XG4gICAgICBidWlsZHMgPSBbXTtcbiAgICAgIHJlZjEgPSByZXF1ZXN0WydidWlsZHMnXTtcbiAgICAgIGZvciAoYmlkIGluIHJlZjEpIHtcbiAgICAgICAgYnVpbGQgPSByZWYxW2JpZF07XG4gICAgICAgIHJpZCA9IGJ1aWxkWzBdLCBjaWQgPSBidWlsZFsxXSwgc3RhdHVzID0gYnVpbGRbMl07XG4gICAgICAgIGJ1aWxkID0ge307XG4gICAgICAgIGlmIChjaWQgPT09IG51bGwpIHtcbiAgICAgICAgICBidWlsZFsndXJsJ10gPSAnLyMvYnVpbGRyZXF1ZXN0cy8nICsgcmlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1aWxkWyd1cmwnXSA9IFwiIy9idWlsZGVycy9cIiArIGJpZCArIFwiL2J1aWxkcy9cIiArIGNpZDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0dXMgPSB0aGlzLnN0YXR1c05hbWUoc3RhdHVzKTtcbiAgICAgICAgY19sYXNzID0gJ3Jlc3VsdHNfJyArIHN0YXR1cztcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgICAgY19sYXNzICs9ICcgcHVsc2UnO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkWydzdGF0dXMnXSA9IHN0YXR1cztcbiAgICAgICAgYnVpbGRbJ2NsYXNzJ10gPSBjX2xhc3M7XG4gICAgICAgIGJ1aWxkWyduYW1lJ10gPSB0aGlzLmJ1aWxkZXJzLmdldChiaWQpWyduYW1lJ107XG4gICAgICAgIGJ1aWxkcy5wdXNoKGJ1aWxkKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0Wydhc3NpZ25lZSddID09PSBudWxsKSB7XG4gICAgICAgIHJlcXVlc3RbJ2Fzc2lnbmVlJ10gPSAnTm9uZSc7XG4gICAgICB9XG4gICAgICByZXF1ZXN0WydidWlsZHMnXSA9IGJ1aWxkcztcbiAgICAgIHJlcXVlc3RzLnB1c2gocmVxdWVzdCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlcXVlc3RzID09PSB1bmRlZmluZWQgfHwgIXRoaXMub2JqQ01QKHJlcXVlc3RzLCB0aGlzLnJlcXVlc3RzKSkge1xuICAgICAgY29uc29sZS5sb2coJ3NvbWV0aGluZyBjaGFuZ2UgaGVyZSBidWRkeScpO1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdHMgPSByZXF1ZXN0cztcbiAgICB9XG4gIH07XG5cbiAgUHVsbHJlcXVlc3RzLnByb3RvdHlwZS5vYmpDTVAgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgdmFyIGssIHRwX3ZiLCB2LCB2YjtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoayBpbiBhKSB7XG4gICAgICB2ID0gYVtrXTtcbiAgICAgIGlmIChrID09PSAnJCRoYXNoS2V5Jykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZiID0gYltrXTtcbiAgICAgIHRwX3ZiID0gdHlwZW9mIHZiO1xuICAgICAgaWYgKHR5cGVvZiB2ICE9PSB0cF92Yikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodHBfdmIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICghdGhpcy5vYmpDTVAodmIsIHYpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHYgIT09IHZiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgUHVsbHJlcXVlc3RzLnByb3RvdHlwZS5zdGF0dXNOYW1lID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIG5hbWVzO1xuICAgIG5hbWVzID0gWydVTktOT1dOJywgJ1BFTkRJTkcnLCAnU1VDQ0VTUycsICdXQVJOSU5HUycsICdGQUlMVVJFJywgJ1NLSVBQRUQnLCAnRVhDRVBUSU9OJywgJ1JFVFJZJywgJ0NBTkNFTExFRCddO1xuICAgIHJldHVybiBuYW1lc1tudW1dO1xuICB9O1xuXG4gIHJldHVybiBQdWxscmVxdWVzdHM7XG5cbn0pKCk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwdWxscmVxdWVzdHMnLCBuZXcgYXBwKCkpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJ2dsTWVudVNlcnZpY2VQcm92aWRlcicsICdjb25maWcnLCBTdGF0ZV0pLmNvbnRyb2xsZXIoJ3B1bGxyZXF1ZXN0c0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGludGVydmFsJywgJyRodHRwJywgJ2RhdGFTZXJ2aWNlJywgUHVsbHJlcXVlc3RzXSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJwdWxscmVxdWVzdHNcXFwiPjxkaXYgbmctaGlkZT1cXFwiYy5yZXF1ZXN0c1xcXCIgY2xhc3M9XFxcImxvYWQtaW5kaWNhdG9yXFxcIj48ZGl2IGNsYXNzPVxcXCJzcGlubmVyXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtY2lyY2xlLW8tbm90Y2ggZmEtc3BpbiBmYS0yeFxcXCI+PC9pPjxwPmxvYWRpbmc8L3A+PC9kaXY+PC9kaXY+PGRpdiBuZy1zaG93PVxcXCJjLnJlcXVlc3RzLmxlbmd0aD09MFxcXCI+PHA+bm8gcHVsbHJlcXVlc3RzIGV4aXN0czwvcD48L2Rpdj48dGFibGUgbmctc2hvdz1cXFwiYy5yZXF1ZXN0cyAmYW1wOyZhbXA7IGMucmVxdWVzdHMubGVuZ3RoICZndDsgMFxcXCIgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtYm9yZGVyZWRcXFwiPjx0ciBjbGFzcz1cXFwiZmlyc3Qtcm93XFxcIj48dGggY2xhc3M9XFxcInBpZFxcXCI+aWQ8L3RoPjx0aD5UaXRsZTwvdGg+PHRoPlJlY2VudCBCdWlsZHM8L3RoPjx0aD5BdXRob3I8L3RoPjwvdHI+PHRyIG5nLXJlcGVhdD1cXFwicmVxdWVzdCBpbiBjLnJlcXVlc3RzXFxcIj48dGQgY2xhc3M9XFxcInBpZFxcXCI+PGEgaHJlZj1cXFwie3tyZXF1ZXN0LnVybH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tyZXF1ZXN0LmlkfX08L2E+PGRpdj57e3JlcXVlc3QuYmFzZV9icmFuY2h9fTwvZGl2PjwvdGQ+PHRkIGNsYXNzPVxcXCJ0aXRsZVxcXCI+PGEgaHJlZj1cXFwie3tyZXF1ZXN0LnVybH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tyZXF1ZXN0LnRpdGxlfX08L2E+PC90ZD48dGQgY2xhc3M9XFxcImJ1aWxkc1xcXCI+PHNwYW4gbmctcmVwZWF0PVxcXCJidWlsZCBpbiByZXF1ZXN0LmJ1aWxkc1xcXCI+PGEgaHJlZj1cXFwie3tidWlsZC51cmx9fVxcXCI+PHNwYW4gY2xhc3M9XFxcImJhZGdlLXN0YXR1cyB7e2J1aWxkLmNsYXNzfX1cXFwiPnt7YnVpbGQubmFtZX19PC9zcGFuPjwvYT48L3NwYW4+PC90ZD48dGQ+PHNwYW4+e3tyZXF1ZXN0LmF1dGhvcn19PC9zcGFuPjxzcGFuPiZuYnNwOy8mbmJzcDs8L3NwYW4+PHNwYW4+e3tyZXF1ZXN0LmFzc2lnbmVlfX08L3NwYW4+PC90ZD48L3RyPjwvdGFibGU+PC9kaXY+XCJcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzY3JpcHRzLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYTkyODY4NmI5MGM0NWVjNzY3ZTgiLCJwdWxscmVxdWVzdHNUZW1wbGF0ZSA9IHJlcXVpcmUgJy4vcHVsbHJlcXVlc3RzLnRwbC5qYWRlJ1xuXG5jbGFzcyBhcHBcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICd1aS5yb3V0ZXInXG4gICAgICAgICAgICAndWkuYm9vdHN0cmFwJ1xuICAgICAgICAgICAgJ25nQW5pbWF0ZSdcbiAgICAgICAgICAgICdndWFubGVjb2phLnVpJ1xuICAgICAgICAgICAgJ2JiRGF0YSdcbiAgICBdXG5cblxuY2xhc3MgU3RhdGVcbiAgICBjb25zdHJ1Y3RvcjogKCRzdGF0ZVByb3ZpZGVyLCBnbE1lbnVTZXJ2aWNlUHJvdmlkZXIsIGNvbmZpZykgLT5cbiAgICAgICAgZm9yIHB1bGxzLCBpbmRleCBpbiBjb25maWcucGx1Z2lucy5wdWxscmVxdWVzdHNcbiAgICAgICAgICAgICMgTmFtZSBvZiB0aGUgc3RhdGVcbiAgICAgICAgICAgIG5hbWUgPSBcIiN7cHVsbHMubmFtZX1fcHVsbHJlcXVlc3RzXCJcblxuICAgICAgICAgICAgIyBNZW51IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIGdsTWVudVNlcnZpY2VQcm92aWRlci5hZGRHcm91cFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBwdWxscy5jYXB0aW9uXG4gICAgICAgICAgICAgICAgaWNvbjogcHVsbHMuaWNvblxuICAgICAgICAgICAgICAgIG9yZGVyOiAyICsgaW5kZXhcblxuICAgICAgICAgICAgIyBDb25maWd1cmF0aW9uXG4gICAgICAgICAgICBjZmcgPVxuICAgICAgICAgICAgICAgIGdyb3VwOiBuYW1lXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogcHVsbHMuY2FwdGlvblxuICAgICAgICAgICAgICAgIG5hbWU6IHB1bGxzLm5hbWVcblxuICAgICAgICAgICAgIyBSZWdpc3RlciBuZXcgc3RhdGVcbiAgICAgICAgICAgIHN0YXRlID1cbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInB1bGxyZXF1ZXN0c0NvbnRyb2xsZXJcIlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogXCJjXCJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogcHVsbHJlcXVlc3RzVGVtcGxhdGVcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgdXJsOiBcIi8je25hbWV9XCJcbiAgICAgICAgICAgICAgICBkYXRhOiBjZmdcblxuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoc3RhdGUpXG5cbmNsYXNzIFB1bGxyZXF1ZXN0c1xuICAgIGNvbnN0cnVjdG9yOiAoJHNjb3BlLCAkc3RhdGUsICRpbnRlcnZhbCwgJGh0dHAsIGRhdGFTZXJ2aWNlKSAtPlxuICAgICAgICBAcmVxdWVzdHMgPSBgdW5kZWZpbmVkYFxuICAgICAgICBAYnVpbGRlcnMgPSBkYXRhU2VydmljZS5vcGVuKCkuY2xvc2VPbkRlc3Ryb3koJHNjb3BlKS5nZXRCdWlsZGVycygpXG5cbiAgICAgICAgbmFtZSA9ICRzdGF0ZS5jdXJyZW50LmRhdGEubmFtZVxuICAgICAgICBmZXRjaFB1bGxzID0gKCgpIC0+XG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9wdWxscmVxdWVzdHMvYXBpLycgKyBuYW1lKS50aGVuIChAcGFyc2VSZXF1ZXN0cy5iaW5kIHRoaXMpXG4gICAgICAgICkuYmluZCB0aGlzXG5cbiAgICAgICAgQGJ1aWxkZXJzLm9uQ2hhbmdlID0gZmV0Y2hQdWxsc1xuICAgICAgICByZXFfdGNrID0gJGludGVydmFsKGZldGNoUHVsbHMsIDEwMDAwKVxuXG4gICAgICAgICRzY29wZS4kb24gJyRkZXN0cm95JywgLT5cbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwgcmVxX3Rja1xuXG4gICAgZ2V0UHVsbHJlcXVlc3RzOiAoKSAtPlxuICAgICAgICAkJCA9IEBcbiAgICAgICAgQCRodHRwLmdldCgnL3B1bGxyZXF1ZXN0cy9hcGkvJyArIEBuYW1lKS50aGVuIChyZXNwb25zZSkgLT5cbiAgICAgICAgICAgICQkLnBhcnNlUmVxdWVzdHMgcmVzcG9uc2VcblxuICAgIHBhcnNlUmVxdWVzdHM6IChyZXNwb25zZSkgLT5cbiAgICAgICAgcmVxdWVzdHMgPSBbXVxuICAgICAgICBmb3IgcmVxdWVzdCBpbiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICBidWlsZHMgPSBbXVxuICAgICAgICAgICAgZm9yIGJpZCwgYnVpbGQgb2YgcmVxdWVzdFsnYnVpbGRzJ11cbiAgICAgICAgICAgICAgICBbcmlkLCBjaWQsIHN0YXR1c10gPSBidWlsZFxuICAgICAgICAgICAgICAgIGJ1aWxkID0ge31cblxuICAgICAgICAgICAgICAgIGlmIGNpZCBpcyBudWxsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkWyd1cmwnXSA9ICcvIy9idWlsZHJlcXVlc3RzLycgKyByaWRcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkWyd1cmwnXSA9IFwiIy9idWlsZGVycy8je2JpZH0vYnVpbGRzLyN7Y2lkfVwiXG5cbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBAc3RhdHVzTmFtZSBzdGF0dXNcbiAgICAgICAgICAgICAgICBjX2xhc3MgPSAncmVzdWx0c18nICsgc3RhdHVzXG4gICAgICAgICAgICAgICAgaWYgc3RhdHVzIGlzICdQRU5ESU5HJ1xuICAgICAgICAgICAgICAgICAgICBjX2xhc3MgKz0gJyBwdWxzZSdcblxuICAgICAgICAgICAgICAgIGJ1aWxkWydzdGF0dXMnXSA9IHN0YXR1c1xuICAgICAgICAgICAgICAgIGJ1aWxkWydjbGFzcyddID0gY19sYXNzXG4gICAgICAgICAgICAgICAgYnVpbGRbJ25hbWUnXSA9IEBidWlsZGVycy5nZXQoYmlkKVsnbmFtZSddXG4gICAgICAgICAgICAgICAgYnVpbGRzLnB1c2ggYnVpbGRcblxuICAgICAgICAgICAgaWYgcmVxdWVzdFsnYXNzaWduZWUnXSBpcyBudWxsXG4gICAgICAgICAgICAgICAgcmVxdWVzdFsnYXNzaWduZWUnXSA9ICdOb25lJ1xuXG4gICAgICAgICAgICByZXF1ZXN0WydidWlsZHMnXSA9IGJ1aWxkc1xuICAgICAgICAgICAgcmVxdWVzdHMucHVzaCByZXF1ZXN0XG5cbiAgICAgICAgaWYgQHJlcXVlc3RzIGlzIGB1bmRlZmluZWRgIG9yIG5vdCBAb2JqQ01QKHJlcXVlc3RzLCBAcmVxdWVzdHMpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnc29tZXRoaW5nIGNoYW5nZSBoZXJlIGJ1ZGR5J1xuICAgICAgICAgICAgQHJlcXVlc3RzID0gcmVxdWVzdHNcblxuICAgIG9iakNNUDogKGEsIGIpIC0+XG4gICAgICAgIGlmIGEubGVuZ3RoIGlzbnQgYi5sZW5ndGhcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgIGZvciBrLCB2IG9mIGFcbiAgICAgICAgICAgIGlmIGsgaXMgJyQkaGFzaEtleSdcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgICAgICB2YiA9IGJba11cbiAgICAgICAgICAgIHRwX3ZiID0gdHlwZW9mKHZiKVxuXG4gICAgICAgICAgICBpZiB0eXBlb2YodikgaXNudCB0cF92YlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgICAgICBpZiB0cF92YiBpcyAnb2JqZWN0J1xuICAgICAgICAgICAgICAgIGlmIG5vdCBAb2JqQ01QKHZiLCB2KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgICAgICBpZiB2IGlzbnQgdmJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgc3RhdHVzTmFtZTogKG51bSkgLT5cbiAgICAgICAgbmFtZXMgPSBbJ1VOS05PV04nLCAnUEVORElORycsICdTVUNDRVNTJywgJ1dBUk5JTkdTJyxcbiAgICAgICAgJ0ZBSUxVUkUnLCAnU0tJUFBFRCcsICdFWENFUFRJT04nLCAnUkVUUlknLCAnQ0FOQ0VMTEVEJ11cbiAgICAgICAgcmV0dXJuIG5hbWVzW251bV1cblxuYW5ndWxhci5tb2R1bGUoJ3B1bGxyZXF1ZXN0cycsIG5ldyBhcHAoKSlcbi5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICdnbE1lbnVTZXJ2aWNlUHJvdmlkZXInLCAnY29uZmlnJywgU3RhdGVdKVxuLmNvbnRyb2xsZXIoJ3B1bGxyZXF1ZXN0c0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGludGVydmFsJywgJyRodHRwJywgJ2RhdGFTZXJ2aWNlJywgUHVsbHJlcXVlc3RzXSlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvbmctY2xhc3NpZnktbG9hZGVyIS4vc3JjL21vZHVsZS9tYWluLm1vZHVsZS5jb2ZmZWUiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicHVsbHJlcXVlc3RzXFxcIj48ZGl2IG5nLWhpZGU9XFxcImMucmVxdWVzdHNcXFwiIGNsYXNzPVxcXCJsb2FkLWluZGljYXRvclxcXCI+PGRpdiBjbGFzcz1cXFwic3Bpbm5lclxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gZmEtMnhcXFwiPjwvaT48cD5sb2FkaW5nPC9wPjwvZGl2PjwvZGl2PjxkaXYgbmctc2hvdz1cXFwiYy5yZXF1ZXN0cy5sZW5ndGg9PTBcXFwiPjxwPm5vIHB1bGxyZXF1ZXN0cyBleGlzdHM8L3A+PC9kaXY+PHRhYmxlIG5nLXNob3c9XFxcImMucmVxdWVzdHMgJmFtcDsmYW1wOyBjLnJlcXVlc3RzLmxlbmd0aCAmZ3Q7IDBcXFwiIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWJvcmRlcmVkXFxcIj48dHIgY2xhc3M9XFxcImZpcnN0LXJvd1xcXCI+PHRoIGNsYXNzPVxcXCJwaWRcXFwiPmlkPC90aD48dGg+VGl0bGU8L3RoPjx0aD5SZWNlbnQgQnVpbGRzPC90aD48dGg+QXV0aG9yPC90aD48L3RyPjx0ciBuZy1yZXBlYXQ9XFxcInJlcXVlc3QgaW4gYy5yZXF1ZXN0c1xcXCI+PHRkIGNsYXNzPVxcXCJwaWRcXFwiPjxhIGhyZWY9XFxcInt7cmVxdWVzdC51cmx9fVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnt7cmVxdWVzdC5pZH19PC9hPjxkaXY+e3tyZXF1ZXN0LmJhc2VfYnJhbmNofX08L2Rpdj48L3RkPjx0ZCBjbGFzcz1cXFwidGl0bGVcXFwiPjxhIGhyZWY9XFxcInt7cmVxdWVzdC51cmx9fVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnt7cmVxdWVzdC50aXRsZX19PC9hPjwvdGQ+PHRkIGNsYXNzPVxcXCJidWlsZHNcXFwiPjxzcGFuIG5nLXJlcGVhdD1cXFwiYnVpbGQgaW4gcmVxdWVzdC5idWlsZHNcXFwiPjxhIGhyZWY9XFxcInt7YnVpbGQudXJsfX1cXFwiPjxzcGFuIGNsYXNzPVxcXCJiYWRnZS1zdGF0dXMge3tidWlsZC5jbGFzc319XFxcIj57e2J1aWxkLm5hbWV9fTwvc3Bhbj48L2E+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuPnt7cmVxdWVzdC5hdXRob3J9fTwvc3Bhbj48c3Bhbj4mbmJzcDsvJm5ic3A7PC9zcGFuPjxzcGFuPnt7cmVxdWVzdC5hc3NpZ25lZX19PC9zcGFuPjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbW9kdWxlL3B1bGxyZXF1ZXN0cy50cGwuamFkZVxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9